set(OGRE_PATH "Ogre")
set(OGRE_VER "VS2015" CACHE STRING "Ogre download version")
set(OGRE_DOWNLOAD_DEST ${CMAKE_CURRENT_LIST_DIR}/Ogre_Rel_${OGRE_VER}.7z)
if(NOT EXISTS  ${OGRE_DOWNLOAD_DEST})
	if(${OGRE_VER} STREQUAL "VS2015")
		file(DOWNLOAD 
		"http://serverfiles.hi2.ro/Peasants/Ogre_Rel_VS2015.7z" ${OGRE_DOWNLOAD_DEST})
	elseif(${OGRE_VER} STREQUAL "VS2017")
		file(DOWNLOAD 
		"http://serverfiles.hi2.ro/Peasants/Ogre_Rel_VS2017.7z" ${OGRE_DOWNLOAD_DEST})
	else()
		message("You're shit out of luck, budddy.")
	endif()
endif()

if(NOT EXISTS ${CMAKE_CURRENT_LIST_DIR}/${OGRE_PATH})
    find_program(7Z_EXE 7z PATHS "$ENV{ProgramFiles}/7-Zip") 
	if(7Z_EXE)
		set(ZIP_ARGS x -o${OGRE_PATH} -y ${OGRE_DOWNLOAD_DEST})
		execute_process(COMMAND ${7Z_EXE} ${ZIP_ARGS} WORKING_DIRECTORY ${CMAKE_CURRENT_LIST_DIR})
	endif(7Z_EXE)
endif()
set(OGRE_SDK_PATH ${CMAKE_CURRENT_LIST_DIR}/${OGRE_PATH} CACHE FILEPATH "Path to ogre sdk root.")